{"Name":"Messaging Plugin for Xamarin and Windows","Id":2667,"Alias":"Xam.Plugins.Messaging","Description":"\r\nThe Messaging plugin makes it possible to make a phone call, send a sms or send an e-mail using the default messaging applications on the different mobile platforms.\r\n\r\n### API Usage\r\n\r\nThe Messaging Plugin makes use of `IEmailTask`, `ISmsTask` and `IPhoneCallTask` abstractions to send an e-mail, send a sms or make a phone call respectively.  These abstractions are defined within the `Plugin.Messaging.Abstractions` PCL library.  Platform specific implementations for these different abstractions are provided within a `Plugin.Messaging` library for the different platforms.\r\n\r\n```csharp\r\npublic interface IEmailTask\r\n{\r\n    bool CanSendEmail { get; }\r\n    bool CanSendEmailAttachments { get; }\r\n    bool CanSendEmailBodyAsHtml { get; }\r\n    void SendEmail(IEmailMessage email);\r\n    void SendEmail(string to, string subject, string message);\r\n}\r\n```\r\n\r\n```csharp\r\npublic interface ISmsTask\r\n{\r\n    bool CanSendSms { get; }\r\n    void SendSms(string recipient, string message);\r\n}\r\n```\r\n\r\n```csharp\r\npublic interface IPhoneCallTask\r\n{\r\n\tbool CanMakePhoneCall { get; }\r\n    void MakePhoneCall(string number, string name = null);\r\n}\r\n```\r\n\r\n### Using the API \r\nThe messaging API\u0027s can be accessed on the different mobile platforms using the `CrossMessaging` singleton or ```MessagingPlugin``` static class.  Here are some snippets to illustrate how to access the API from within an `Activity`, `UIViewController` or Windows `Page`.  \r\n\r\n```csharp\r\n// Make Phone Call\r\nvar phoneDialer = CrossMessaging.Current.PhoneDialer;\r\nif (phoneDialer.CanMakePhoneCall) \r\n\tphoneDialer.MakePhoneCall(\"+272193343499\");\r\n\r\n// Send Sms\r\nvar smsMessenger = CrossMessaging.Current.SmsMessenger;\r\nif (smsMessenger.CanSendSms)\r\n   smsMessenger.SendSms(\"+27213894839493\", \"Well hello there from Xam.Messaging.Plugin\");\r\n\r\nvar emailMessenger = CrossMessaging.Current.EmailMessenger;\r\nif (emailMessenger.CanSendEmail)\r\n{\r\n\t// Send simple e-mail to single receiver without attachments, bcc, cc etc.\r\n\temailMessenger.SendEmail(\"to.plugins@xamarin.com\", \"Xamarin Messaging Plugin\", \"Well hello there from Xam.Messaging.Plugin\");\r\n\r\n\t// Alternatively use EmailBuilder fluent interface to construct more complex e-mail with multiple recipients, bcc, attachments etc. \r\n    var email = new EmailMessageBuilder()\r\n      .To(\"to.plugins@xamarin.com\")\r\n      .Cc(\"cc.plugins@xamarin.com\")\r\n      .Bcc(new[] { \"bcc1.plugins@xamarin.com\", \"bcc2.plugins@xamarin.com\" })\r\n      .Subject(\"Xamarin Messaging Plugin\")\r\n      .Body(\"Well hello there from Xam.Messaging.Plugin\")\r\n      .Build();\r\n\r\n    emailMessenger.SendEmail(email);\r\n}           \r\n```\r\n\r\n### Platform specific API\u0027s\r\n\r\nSending HTML e-mail and adding e-mail attachments are only supported on some platforms.  Use the ```IEmailTask.CanSendEmailAttachments``` and ```IEmailTask.CanSendEmailBodyAsHtml``` API\u0027s to test whether the feature is available for the platform in your PCL code.  \r\n\r\nTo add HTML body content use ```EmailMessageBuilder.BodyAsHtml``` (**iOS, Android**).  \r\n\r\n```csharp\r\n// Construct HTML email (iOS and Android only)\r\nvar email = new EmailMessageBuilder()\r\n  .To(\"to.plugins@xamarin.com\")\r\n  .Subject(\"Xamarin Messaging Plugin\")\r\n  .BodyAsHtml(\"Well hello there from \u003ca\u003eXam.Messaging.Plugin\u003c/a\u003e\")\r\n  .Build();\r\n```\r\n\r\nTo add attachments, use the ```EmailMessageBuilder.WithAttachment``` overloads (**iOS, Android, WinPhone RT**).  \r\n\r\n```csharp\r\n// Construct email with attachment on Android (single file only)\r\nvar email = new EmailMessageBuilder()\r\n  .To(\"to.plugins@xamarin.com\")\r\n  .Subject(\"Xamarin Messaging Plugin\")\r\n  .Body(\"Well hello there from Xam.Messaging.Plugin\")\r\n  .WithAttachment(\"/storage/emulated/0/Android/data/MyApp/files/Pictures/temp/IMG_20141224_114954.jpg\");\r\n  .Build();\r\n```\r\n","Version":"3.2.1.0","Summary":"Xamarin and Windows plugin to make phone call, send sms or send an e-mail.","QuickStart":"\r\nThe Messaging plugin makes it possible to make a phone call, send a sms or send an e-mail using the default messaging applications on the different mobile platforms.\r\n\r\n### API Usage\r\n\r\nThe Messaging Plugin makes use of `IEmailTask`, `ISmsTask` and `IPhoneCallTask` abstractions to send an e-mail, send a sms or make a phone call respectively.  These abstractions are defined within the `Plugin.Messaging.Abstractions` PCL library.  Platform specific implementations for these different abstractions are provided within a `Plugin.Messaging` library for the different platforms.\r\n\r\n```csharp\r\npublic interface IEmailTask\r\n{\r\n    bool CanSendEmail { get; }\r\n    bool CanSendEmailAttachments { get; }\r\n    bool CanSendEmailBodyAsHtml { get; }\r\n    void SendEmail(IEmailMessage email);\r\n    void SendEmail(string to, string subject, string message);\r\n}\r\n```\r\n\r\n```csharp\r\npublic interface ISmsTask\r\n{\r\n    bool CanSendSms { get; }\r\n    void SendSms(string recipient, string message);\r\n}\r\n```\r\n\r\n```csharp\r\npublic interface IPhoneCallTask\r\n{\r\n\tbool CanMakePhoneCall { get; }\r\n    void MakePhoneCall(string number, string name = null);\r\n}\r\n```\r\n\r\n### Using the API \r\nThe messaging API\u0027s can be accessed on the different mobile platforms using the `CrossMessaging` singleton or ```MessagingPlugin``` static class.  Here are some snippets to illustrate how to access the API from within an `Activity`, `UIViewController` or Windows `Page`.  \r\n\r\n```csharp\r\n// Make Phone Call\r\nvar phoneDialer = CrossMessaging.Current.PhoneDialer;\r\nif (phoneDialer.CanMakePhoneCall) \r\n\tphoneDialer.MakePhoneCall(\"+272193343499\");\r\n\r\n// Send Sms\r\nvar smsMessenger = CrossMessaging.Current.SmsMessenger;\r\nif (smsMessenger.CanSendSms)\r\n   smsMessenger.SendSms(\"+27213894839493\", \"Well hello there from Xam.Messaging.Plugin\");\r\n\r\nvar emailMessenger = CrossMessaging.Current.EmailMessenger;\r\nif (emailMessenger.CanSendEmail)\r\n{\r\n\t// Send simple e-mail to single receiver without attachments, bcc, cc etc.\r\n\temailMessenger.SendEmail(\"to.plugins@xamarin.com\", \"Xamarin Messaging Plugin\", \"Well hello there from Xam.Messaging.Plugin\");\r\n\r\n\t// Alternatively use EmailBuilder fluent interface to construct more complex e-mail with multiple recipients, bcc, attachments etc. \r\n    var email = new EmailMessageBuilder()\r\n      .To(\"to.plugins@xamarin.com\")\r\n      .Cc(\"cc.plugins@xamarin.com\")\r\n      .Bcc(new[] { \"bcc1.plugins@xamarin.com\", \"bcc2.plugins@xamarin.com\" })\r\n      .Subject(\"Xamarin Messaging Plugin\")\r\n      .Body(\"Well hello there from Xam.Messaging.Plugin\")\r\n      .Build();\r\n\r\n    emailMessenger.SendEmail(email);\r\n}           \r\n```\r\n\r\n### Platform specific API\u0027s\r\n\r\nSending HTML e-mail and adding e-mail attachments are only supported on some platforms.  Use the ```IEmailTask.CanSendEmailAttachments``` and ```IEmailTask.CanSendEmailBodyAsHtml``` API\u0027s to test whether the feature is available for the platform in your PCL code.  \r\n\r\nTo add HTML body content use ```EmailMessageBuilder.BodyAsHtml``` (**iOS, Android**).  \r\n\r\n```csharp\r\n// Construct HTML email (iOS and Android only)\r\nvar email = new EmailMessageBuilder()\r\n  .To(\"to.plugins@xamarin.com\")\r\n  .Subject(\"Xamarin Messaging Plugin\")\r\n  .BodyAsHtml(\"Well hello there from \u003ca\u003eXam.Messaging.Plugin\u003c/a\u003e\")\r\n  .Build();\r\n```\r\n\r\nTo add attachments, use the ```EmailMessageBuilder.WithAttachment``` overloads (**iOS, Android, WinPhone RT**).  \r\n\r\n```csharp\r\n// Construct email with attachment on Android (single file only)\r\nvar email = new EmailMessageBuilder()\r\n  .To(\"to.plugins@xamarin.com\")\r\n  .Subject(\"Xamarin Messaging Plugin\")\r\n  .Body(\"Well hello there from Xam.Messaging.Plugin\")\r\n  .WithAttachment(\"/storage/emulated/0/Android/data/MyApp/files/Pictures/temp/IMG_20141224_114954.jpg\");\r\n  .Build();\r\n```\r\n","Hash":"5824d6cc11d6d19772073e3641a77363","TargetPlatforms":["ios","ios-unified","android"],"TrialHash":null}